= Datenbankversionierung
:author: David Lehner
:hide-uri-scheme:
:revnumber: 1.0
:revdate: {docdate}
:revremark: SLIDEDEMO @ HTL Leonding
:encoding: utf-8
:lang: de
:doctype: article
//:icons: font
:customcss: css/presentation.css
//:revealjs_customtheme: css/sky.css
//:revealjs_customtheme: css/black.css
:revealjs_width: 1408
:revealjs_height: 792
:source-highlighter: highlightjs
//:revealjs_parallaxBackgroundImage: images/background-landscape-light-orange.jpg
//:revealjs_parallaxBackgroundSize: 4936px 2092px
//:highlightjs-theme: css/atom-one-light.css
// we want local served font-awesome fonts
:iconfont-remote!:
:iconfont-name: fonts/fontawesome/css/all
//:revealjs_parallaxBackgroundImage: background-landscape-light-orange.jpg
//:revealjs_parallaxBackgroundSize: 4936px 2092px
ifdef::env-ide[]
:imagesdir: ../images
endif::[]
ifndef::env-ide[]
:imagesdir: images
endif::[]
//:revealjs_theme: sky
//:title-slide-background-image: img.png
:title-slide-transition: zoom
:title-slide-transition-speed: fast

Konzept, Technologien, Liquibase

== Einführung
* Verwaltung und Nachverfolgung von Änderungen
* Innerhalb eines Datenbankschemas

== Was ist das Problem?
* Verlorene Informationen der Entwicklung
* Schwierige Rückverfolgbarkeit und Wiederherstellung von früheren Ständen.
* Inkonsistenz zwischen verschiedenen Umgebungen.

=== Beispiel (Ausgangssituation):
* Gemeinsame Datenbank
* CI-Tool in Verwendung
* Neue Funktionalität fordert Datenbankänderung

=== Beispiel (Problem):
* Beeinflusst Tests auf anderen Branches
* Änderungen müssen zurückgesetzt werden
* Wiederholung

=== Beispiel (Warum?):
* Hoher Aufwand
* Fehleranfälligkeit
* Blockieren anderer Teams, während Datenbankänderungen aktiv sind.

== Wie wird das Problem gelöst?
* Einsatz von Tools zur Datenbankversionierung wie Liquibase.
* Dokumentation der Veränderung durch Versionierung
* Automatisierung der Anwendung von Migrationsskripten (z. B. durch Pipelines).

=== Beispiel (Lösung):
* Änderungen versionieren (In Changelogs)
* Automatisierung (Änderungen automatisch anwendbar von CI-Tool)
* Isolierte Tests (seperater Datenbankzustand)

== Liquibase
https://medium.com/@tgt1022/how-to-execute-database-migrations-with-liquibase-9318b8e5da19
https://appmaster.io/de/glossary/versionierung
https://www.informatik.hu-berlin.de/de/forschung/gebiete/wbi/teaching/studienDiplomArbeiten/finished/2004/rieche_expose_040520.pdf

* Open-Source-Lösung für Datenbankversionierung und -migration.
* Unterstützt diverse Datenbankmanagementsysteme (DBMS).
* Vorteile:
** Automatisierte Skriptausführung.
** Änderungsverfolgung mit „Changelogs“.

== Alternativen
* Konzepte / Preis...

== Warum Liquibase?
* Open-Source, dadurch kostenfrei verfügbar.
* Hohe Flexibilität und große Community.
* Gute Integration in Entwicklungs- und Deployment-Workflows.

== Workflow mit Grafik
* Wie wird es verwendet?
* Was muss man machen?
* Wie funktioniert es?

== Live DEMO

== Aufsetzen
https://quarkus.io/guides/liquibase

== Verwendung

=== Create, Delete, Update

=== Rollback

=== ORM-Mapper


== Best-Practices
* Datenbankänderungen immer versionieren
* Datenbankänderungen immer über Migrationsskripte
* Atomicity (Jeder Migrationsschritt atomar, also ganz oder garnicht)

== Fazit
* Machts Sinn?
* Vorteile / Nachteile?

[.stretch]
image::img.png[]

[.lightbg,background-opacity="0.7"]
== Slide w/ text and background image

image::img.png[background, size="contain"]


* Topic 1
* Topic 2
* Topic 3

[%auto-animate]
== !

Matched element will be animated automatically!

[%auto-animate]
== !

[.highlight]
Matched element will be animated automatically!

And move to the right position!

[%hardbreaks]
⬆️
⬆️
⬆️


[%auto-animate]
== !

[source%linenums,js,data-id=planets]
----
let planets = [
  { name: 'mars', diameter: 6779 },
]
----

[%auto-animate]
== !

[source%linenums,js,data-id=planets]
----
let planets = [
  { name: 'mars', diameter: 6779 },
  { name: 'earth', diameter: 12742 },
  { name: 'jupiter', diameter: 139820 }
]
----

[%auto-animate]
== !

[source%linenums,js,data-id=planets]
----
let circumferenceReducer = ( c, planet ) => {
  return c + planet.diameter * Math.PI;
}

let planets = [
  { name: 'mars', diameter: 6779 },
  { name: 'earth', diameter: 12742 },
  { name: 'jupiter', diameter: 139820 }
]

let c = planets.reduce( circumferenceReducer, 0 )
----


[%auto-animate,auto-animate-unmatched=false]
== Unmatched

Introduction. (matched)

[%auto-animate,auto-animate-unmatched=false]
== Unmatched

Introduction. (matched)

This will be shown instantly ⚡ (unmatched)


[%auto-animate,auto-animate-duration=5]
== Duration

This animation...

[%auto-animate,auto-animate-duration=5]
== Duration

This animation...

...will take 5 seconds! ⌚


